<?xml version="1.0" encoding="UTF-8"?>
<chapter id="installing">
	<title>Installing iriverter</title>
	<para>Before beginning, fetch the latest version of iriverter for your platform from <ulink url="http://iriverter.sourceforge.net/download.shtml">iriverter's website</ulink>.</para>

	<sect1 id="windows">
		<title>Windows</title>
		<para>There are both installers and ZIP packages of iriverter available for Windows.  Both will give the same result in the end, but using the installer is recommended.
		</para>
		
		<sect2 id="windows_installer">
			<title>Installer</title>
			<orderedlist numeration="arabic">
				<listitem><para>Double click <filename>iriverter-VER_win.exe</filename>, where VER is the version number.</para></listitem>
				<listitem><para>Follow the on-screen instructions</para></listitem>
				<listitem><para>Start iriverter with <menuchoice><guimenu>Start</guimenu><guimenuitem>Program Files</guimenuitem><guimenuitem>iriverter</guimenuitem><guimenuitem>iriverter</guimenuitem></menuchoice>.</para></listitem>
			</orderedlist>
		</sect2>
		
		<sect2 id="windows_zip">
			<title>ZIP</title>
			<orderedlist numeration="arabic">
				<listitem><para>Extract <filename>iriverter-VER_win.zip</filename>, where VER is the version number, using a ZIP extraction program like <ulink url="http://www.rarlabs.com">WinRAR</ulink> or <ulink url="http://www.winzip.com">WinZIP</ulink>.  Windows XP includes an unzipper by default so the ZIP will open like a folder where you only have to copy and paste the contents out.</para></listitem>
				<listitem><para>Find where you extracted the contents of the ZIP and double-click <filename>iriverter.exe</filename> to start iriverter.</para></listitem>
			</orderedlist>
			
			<para>If you want to move iriverter to another place, move the whole contents of the iriverter folder around together.  Do not move <filename>iriverter.exe</filename> around by itself.  If you want to be able to excute it from another place, make a shortcut to iriverter.exe</para>
		</sect2>
	</sect1>

	<sect1 id="osx">
		<title>OSX</title>
		<orderedlist numeration="arabic">
			<listitem><para>Double-click <filename>iriverter-VER_osx.zip</filename>, where VER is the version number, in the finder.</para></listitem>
			<listitem><para>Navigate to the resulting directory and drag <filename>iriverter.app</filename> to <filename class="directory">/Applications</filename>.</para></listitem>
			<listitem><para>Double-click iriverter.app to start iriverter and add it to your dock if you want.</para></listitem>
		</orderedlist>
	</sect1>

	<sect1 id="linux">
		<title>Linux</title>
		<para>You should have a little bit of experience with Linux for this to be easy.</para>

		<orderedlist numeration="arabic">
			<listitem>
				<para>Install MPlayer with MEncoder with XviD and DVD support.  If your distribution does not have a package for this then you will have to build it yourself.  Refer to the <ulink url="http://www.mplayerhq.hu/DOCS/HTML/en/index.html">MPlayer documentation</ulink> for instructions on how to do that.</para>

				<note><para>If you want to be able to manually sync the audio to the video, you must manually compile MPlayer and apply <filename>MPlayer-VER_iriverter.patch</filename>, where VER is MPlayer's version number, available from the the <ulink url="http://sourceforge.net/project/showfiles.php?group_id=129582">iriverter downloads page</ulink>.</para></note>
			</listitem>
			<listitem><para>Install a Java runtime environment 1.4 or higher.  Check to see if your distribution has packages for this.</para></listitem>
			<listitem>
				<para>Open a terminal and run</para>
				<screen>
					<prompt>$</prompt> <command>tar -xvjf <replaceable>iriverter-VER_linux.tar.bz2</replaceable></command>
					<prompt>$</prompt> <command>cd <replaceable>iriverter-VER</replaceable></command>
					<prompt>$</prompt> <command>java -Djava.library.path=. -jar iriverter.jar</command>
				</screen>
			</listitem>
		</orderedlist>
		
		<example id="launcher">
			<title>A Launcher Script</title>
			<para>If you want to create a launcher to start iriverter, you need to write a quick script:</para>
			<para>Create a file called <filename>iriverter</filename> with contents:</para>
			
			<programlisting>
				#!/bin/sh
				cd <replaceable>/path/to/iriverter</replaceable>
				java -Djava.library.path=. -jar iriverter.jar
			</programlisting>
			
			<para>Finally, run <command>chmod +x iriverter.sh</command> and tell your GUI launcher to use the new shell script.</para>
		</example>

		<example id="gcj">
			<title>Compiling with GCJ</title>
			<para>If you do not want to install a Java runtime environment to run iriverter, you can make a native binary using <ulink url="http://gcc.gnu.org/java/">GCJ</ulink> from the <ulink url="http://gcc.gnu.org">GCC project</ulink>.</para>
			
			<screen>
					<prompt>$</prompt> <command>tar -xvjf <replaceable>iriverter-VER_linux.tar.bz2</replaceable></command>
					<prompt>$</prompt> <command>cd <replaceable>iriverter-VER</replaceable></command>
					<prompt>$</prompt> <command>gcj --classpath=swt.jar -c iriverter.jar</command>
					<prompt>$</prompt> <command>gcj -fjni --main=net.sourceforge.iriverter.ConverterUI --classpath=swt.jar -o iriverter iriverter.o swt.jar</command>
					<prompt>$</prompt> <command>rm iriverter.jar iriverter.o swt.jar</command>
					<prompt>$</prompt> <command>LD_LIBRARY_PATH=. ./iriverter</command>
			</screen>

			<para>If you do not want to have to specify the LD_LIBRARY_PATH every time, move the <filename>*.so</filename> files to <filename class="directory">/usr/lib</filename>.  From then on you could just run <command>/path/to/iriverter</command> to run iriverter!</para>
		</example>
	</sect1>
</chapter>
